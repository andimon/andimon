---
layout: blog
title: "github"
date: 2026-02-20 00:00:00 +0000
author: "Andre' Vella"
tags: [git, github]
excerpt: "GitHub"
---

## GitHub Workflow

### Elixir Test Workflow

{% raw %}
```yaml
name: tests

on: [push, pull_request]

jobs:
  tests:
    name: Run Tests
    runs-on: ubuntu-latest
    strategy:
      matrix:
        include:
          - otp: '27.0'
            elixir: '1.18'
    env:
      MIX_ENV: test
      GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
    steps:
      - uses: actions/checkout@v3
      - uses: erlef/setup-beam@v1
        with:
          otp-version: ${{ matrix.otp }}
          elixir-version: ${{ matrix.elixir }}
      - uses: actions/cache@v3
        with:
          path: deps
          key: ${{ runner.os }}-${{ matrix.elixir }}-otp${{ matrix.otp }}-mix-${{ hashFiles(format('{0}{1}', github.workspace, '/mix.lock')) }}
          restore-keys: |
            ${{ runner.os }}-${{ matrix.elixir }}-otp${{ matrix.otp }}-mix-
      - run: mix deps.get
      - run: mix test
```
{% endraw %}

## What Each Part Does

- `name: tests`: workflow name shown in GitHub Actions.
- `on: [push, pull_request]`: runs on pushes and pull request updates.
- `jobs`: starts the list of jobs.
- `tests`: job identifier.
- `name: Run Tests`: human-readable job name.
- `runs-on: ubuntu-latest`: uses an Ubuntu runner.
- `strategy.matrix`: defines version combinations.
- `otp: '27.0'` and `elixir: '1.18'`: selected OTP and Elixir versions.
- `env`: environment variables shared across steps.
- `MIX_ENV: test`: runs Mix in test mode.
- {% raw %}`GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}`{% endraw %}: GitHub-provided token.
- `steps`: ordered actions/commands.
- `actions/checkout@v3`: checks out repo code.
- `erlef/setup-beam@v1`: installs Erlang/OTP and Elixir.
- {% raw %}`otp-version: ${{ matrix.otp }}`{% endraw %}: matrix-driven OTP.
- {% raw %}`elixir-version: ${{ matrix.elixir }}`{% endraw %}: matrix-driven Elixir.
- `actions/cache@v3`: caches dependencies.
- `path: deps`: caches Mix dependency directory.
- `key`: cache key based on OS, versions, and lockfile hash.
- {% raw %}`${{ hashFiles(format('{0}{1}', github.workspace, '/mix.lock')) }}`{% endraw %}: lockfile hash for cache invalidation.
- `restore-keys`: fallback cache prefixes.
- {% raw %}`${{ runner.os }}-${{ matrix.elixir }}-otp${{ matrix.otp }}-mix-`{% endraw %}: fallback prefix.
- `mix deps.get`: fetches dependencies.
- `mix test`: runs tests.
